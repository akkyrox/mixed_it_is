
<h1> Patient List </h1>

<%= form_tag patients_path, :method => :get do %>
    <p>
      <%= text_field_tag :search, params[:search] %>
      <%= submit_tag "Search", :name => nil %>
<% end %>


<%= link_to 'New Patient', new_patient_path %>


<!--<div>-->
 <!---->
  <!--<%#= component_table_list SrComponent.find_component_by_name('ClassifierList') %>-->
<!--</div>-->
<table>
  <tr>
    <th>Id</th>
    <th>Name</th>
    <th>Problem</th>
    <th>Selected Physician</th>
    <th>Created At</th>
    <th>Updated At</th>
  </tr>

  <% @patients.each do |patient| %>
    <tr>

      <td><%= patient.id %></td>
      <td><%= best_in_place patient, :name, :classes => 'highlight_on_success'%></td>



      <td><%#= patient.problem %></td>
      <td><%#= Physician.find(patient.select_physician).name %></td>
      <td><%= patient.created_at %></td>
      <td><%= patient.updated_at %></td>
      <td> <%= link_to "edit", edit_patient_path(patient) %></td>
    </tr>
  <% end %>


<%= link_to 'Back', patients_path %>

</table>

    <!--<div>
      <%#= component_table_list SrComponent.find_component_by_name('ClassifierList') %>
   <!-- </div>

    <%#=content_tag(:div, @campaign.errors.blank? ? nil : render(:partial => 'new_classifier'), :id => 'new_classifier', :style => 'margin-top:11px;' ) %>


    <%#= content_tag(:div, link_to("Add #{ classifier.name }", { :action=> 'new_classifier', :classifier_id => params[:classifier_id], :campaign_id => params[:campaign_id] },"data-update"=>"new_classifier","data-paramtype"=>"get_href",:class=>"ajax_form_call"), :class => 'button')%>
-->
<script>
   // $('.highlight_on_success').bind("ajax:success", function(){$(this).closest('tr').effect('highlight'));});
</script>